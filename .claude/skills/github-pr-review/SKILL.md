---
name: github-pr-review
description: Team-B1ND Pull Request 작성 및 리뷰 가이드라인을 자동으로 적용합니다. 사용자가 PR 생성, PR 작성, 코드 리뷰 등을 요청할 때 이 스킬을 사용하여 PR 제목 형식, 필수 섹션, PR 크기 가이드라인, 리뷰 규칙을 자동으로 준수하도록 합니다.
allowed-tools:
  - Bash
  - Read
  - Grep
  - Glob
---

# Team-B1ND GitHub Pull Request 가이드

이 스킬은 Team-B1ND의 PR 작성 및 리뷰 가이드라인을 자동으로 적용하여 효과적인 코드 리뷰와 협업을 도와줍니다.

## PR 제목 규칙

### 형식

```
[브랜치명] (#이슈번호)
```

### 작성 규칙

1. **한국어, 영어 모두 사용 가능**
2. **이슈 번호를 반드시 포함** (예: #123)
3. **50자 이내**로 작성
4. **마침표 사용 금지**

### 좋은 예시

```
[Feature] 웹뷰 브릿지 카메라 API 구현 (#123)
[Fix] 로그인 시 토큰 갱신 오류 수정 (#456)
[Refactor] 알림 서비스 MSA로 분리 (#789)
[Hotfix] 프로덕션 인증 버그 긴급 수정 (#234)
```

### 나쁜 예시

```
❌ 기능 추가 → 브랜치명 미표기, 이슈번호 누락
❌ [Feature] 카메라 기능을 추가했습니다. (#123) → 마침표, 과거형
❌ [Feature] 웹뷰 브릿지 카메라 API를 구현하고... (#123) → 너무 김
```

## PR 본문 구조

### 필수 항목 ✅

모든 PR은 다음 3가지를 **반드시** 포함해야 합니다:

**1. 변경 사항** (Changes)
- 무엇을 변경했는지 명확하게 설명
- 핵심 변경 내용 요약

**2. 작업 내용** (Implementation)
- 어떻게 구현했는지 설명
- 주요 기술적 결정 사항

**3. 테스트 방법** (Testing)
- 리뷰어가 어떻게 테스트할 수 있는지 설명
- 단위 테스트, 통합 테스트, 수동 테스트 체크리스트

**4. 관련 이슈**
- `Resolves #이슈번호` 형식

### 선택 항목 (필요시 추가)

**1. 스크린샷/영상** (UI 변경 시)
- Before/After 비교 이미지
- 동작 영상

**2. 성능 변화** (성능 개선 작업 시)
- 측정 결과 (응답시간, 처리량 등)
- Before/After 비교

**3. Breaking Changes**
- 하위 호환성이 깨지는 변경 명시
- 마이그레이션 가이드

**4. 참고 사항**
- 리뷰어가 알아야 할 추가 정보
- 트레이드오프, 제약사항 등

### 체크리스트

```markdown
## 체크리스트
- [ ] 코드가 프로젝트의 코딩 스타일을 따릅니다
- [ ] 자체 코드 리뷰를 완료했습니다
- [ ] 문서를 업데이트했습니다 (필요한 경우)
- [ ] Breaking Changes가 없습니다
```

## PR 크기 가이드라인

### 원칙
- **하나의 PR = 하나의 이슈**
- 변경 파일 **10개 이상**이면 분리 검토
- 리뷰어가 **30분 이내** 리뷰 가능한 크기

### 크기 판단 기준

| 크기 | 변경 파일 수 | 변경 라인 수 | 리뷰 시간 |
|------|------------|-------------|-----------|
| XS | 1-2개 | ~50줄 | 5-10분 |
| S | 3-5개 | 50-200줄 | 10-20분 |
| M | 5-10개 | 200-500줄 | 20-30분 |
| L | 10-20개 | 500-1000줄 | 30-60분 |
| XL | 20개+ | 1000줄+ | 60분+ (분리 권장) |

### PR 분리 전략

**너무 큰 PR은 다음과 같이 분리**:
1. 기능별로 분리
2. 리팩토링과 기능 추가 분리
3. 테스트 코드 별도 PR

## 리뷰 요청 규칙

### 리뷰어 지정
- **최소 1명 이상** 리뷰어 지정
- **도메인 전문가** 또는 **코드 오너** 포함
- 팀 규모에 따라 2-3명 권장

### 리뷰 완료 조건
- 모든 리뷰어의 Approve 필수
- 요청된 변경사항 모두 반영
- CI/CD 파이프라인 통과

### 리뷰 전 금지
- ❌ 리뷰 완료 전 머지
- ❌ 리뷰어 피드백 없이 강제 머지
- ❌ CI 실패 상태에서 머지

## Draft PR 활용

### 사용 시기
- 작업이 완료되지 않았지만 피드백 필요
- 방향성 검토 필요
- 진행 상황 공유

### 작성 방법
1. GitHub의 "Create draft pull request" 사용
2. 어떤 부분에 피드백 필요한지 명시
3. 작업 완료 후 Draft 해제하고 정식 리뷰 요청

## 머지 전략

| 방식 | 설명 | 사용 시기 |
|------|------|----------|
| **Squash Merge** | 모든 커밋을 하나로 합침 | 커밋 히스토리를 깔끔하게 유지 |
| **Merge Commit** | 모든 커밋을 보존 | 커밋 히스토리를 모두 보존 |
| **Rebase Merge** | 선형 히스토리 유지 | 선형적인 히스토리 선호 |

**Team-B1ND 권장**: Squash Merge (프로젝트별 조정 가능)

## 충돌 해결

### 충돌 발생 시
1. 로컬에서 최신 base 브랜치 pull
2. 작업 브랜치에 merge 또는 rebase
3. 충돌 해결 후 테스트
4. 변경사항 push

## 스킬 적용 시나리오

### 1. PR 생성 요청 시

사용자가 "PR 만들어줘", "Pull Request 생성" 등을 요청할 때:
1. `git status`, `git log`, `git diff` 분석
2. 변경 파일 수 확인 (10개 이상이면 분리 제안)
3. PR 제목 자동 생성: `[브랜치타입] 설명 (#이슈번호)`
4. 필수 섹션 모두 작성 (변경 사항, 작업 내용, 테스트 방법)
5. 선택 항목 필요 여부 확인
6. `gh pr create` 실행

### 2. PR 본문 자동 생성

**변경 사항 분석**:
- `git diff` 결과로 변경 파일 파악
- 주요 변경 내용 요약

**작업 내용 작성**:
- 코드 분석으로 구현 방법 파악
- 기술적 결정 사항 설명

**테스트 방법 작성**:
- 테스트 파일 확인
- 테스트 체크리스트 자동 생성

### 3. PR 크기 검증

변경 파일이 10개 이상이면:
1. 경고 메시지 표시
2. 분리 가능 여부 확인
3. 분리 전략 제안

### 4. 제목 자동 생성

브랜치명에서 자동 추출:
```
feature/#123-webview-camera-api
→ [Feature] 웹뷰 브릿지 카메라 API 구현 (#123)
```

## 금지사항

- ❌ 의미없는 제목 (ex: Feature 작업, Bug 수정)
- ❌ 본문 없이 제목만 작성
- ❌ 테스트하지 않은 코드 PR
- ❌ 리뷰어 피드백 없이 강제 머지
- ❌ CI 실패 상태 머지

## 자동 적용 프로세스

1. PR 생성 요청 감지
2. 현재 브랜치 및 변경 내용 분석
3. PR 크기 검증 (10개 파일 체크)
4. PR 제목 자동 생성
5. 필수 섹션 자동 작성
6. 선택 섹션 필요 여부 확인
7. 리뷰어 지정 안내
8. gh CLI로 PR 생성
9. PR URL 반환
